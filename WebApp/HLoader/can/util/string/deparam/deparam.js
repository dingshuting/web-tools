steal("can/util","can/util/string",function(d){var k=/^\d+$/,l=/([^\[\]]+)|(\[\])/g,m=/([^?#]*)(#.*)?$/,g=function(b){return decodeURIComponent(b.replace(/\+/g," "))};d.extend(d,{deparam:function(b){var h={},f;b&&m.test(b)&&(b=b.split("&"),d.each(b,function(a){a=a.split("=");var c=g(a.shift()),b=g(a.join("=")),e=h;if(c){a=c.match(l);for(var c=0,d=a.length-1;c<d;c++)e[a[c]]||(e[a[c]]=k.test(a[c+1])||"[]"==a[c+1]?[]:{}),e=e[a[c]];f=a.pop();"[]"==f?e.push(b):e[f]=b}}));return h}});return d});